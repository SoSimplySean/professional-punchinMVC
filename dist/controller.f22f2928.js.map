{"version":3,"sources":["js/config.js","js/model.js","js/views/ResultsView.js","js/views/PaginationView.js","js/views/SearchBarView.js","js/views/RequestBarView.js","js/views/RequestFormView.js","js/views/ProjectPageView.js","js/controller.js","node_modules/parcel-bundler/src/builtins/hmr-runtime.js"],"names":["RES_PER_PAGE","state","project","allProjects","search","query","results","page","resultsPerPage","totalPages","createMatrix","fetch","response","text","data","split","slice","rows","map","row","intermediate","mtx","Math","ceil","length","loadSearchResults","filter","toLowerCase","includes","loadFavouritedProjects","favourited","getSearchResultsPage","start","end","i","localStorage","key","ResultsView","projectList","document","querySelector","header__user","handler","reset","addEventListener","classList","toggle","contains","innerHTML","forEach","htmlString","insertAdjacentHTML","likeProject","querySelectorAll","item","id","closest","firstElementChild","innerText","remove","add","setItem","removeItem","PaginationView","pagination__buttons","e","btn","target","goToPage","dataset","goto","currentPage","buttons","activeButton","beforePage","afterPage","SearchBarView","header","searchContainer","searchInput","bannerContainer","searchObsOpt","root","threshold","searchObserver","IntersectionObserver","observe","entries","entry","isIntersecting","style","marginTop","body","scrollTop","documentElement","value","RequestBarView","requestBar","footer","reqObsOpt","requestObserver","RequestFormView","requestButton","modalOverlay","requestModal","projectPageContainer","ProjectPageView","projectCard","card","setOfProjects","model","render","addProjectPage","controlSearchResults","getQuery","controlPagination","controlFavourited","controlSearchBar","fixSearchContainer","controlRequestBar","fixRequestBar","controlShowModal","showRequestForm","controlHideModal","hideRequestForm","init","addHandlerClick","addHandlerFavourited","addIntersectionObserver","addHandlerSearch","addHandlerClickBar","addHandlerClickOverlay","addHandlerEscape","OVERLAY_ID","OldModule","module","bundle","Module","moduleName","call","hot","hotData","_acceptCallbacks","_disposeCallbacks","accept","fn","push","dispose","checkedAssets","assetsToAccept","parent","isParcelRequire","WebSocket","hostname","location","protocol","ws","onmessage","event","JSON","parse","type","handled","assets","asset","isNew","didAccept","hmrAcceptCheck","global","parcelRequire","every","generated","js","console","clear","hmrApply","v","hmrAcceptRun","reload","close","onclose","log","removeErrorOverlay","error","message","stack","overlay","createErrorOverlay","appendChild","getElementById","createElement","stackTrace","getParents","modules","parents","k","d","dep","Array","isArray","concat","Function","deps","cached","cache","some","cb"],"mappings":"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","file":"controller.f22f2928.js","sourceRoot":"..","sourcesContent":["// export const CSV = \"../data/test.csv\";\nexport const RES_PER_PAGE = 8;\n","import { CSV, RES_PER_PAGE } from \"./config.js\";\n// require(\"babel-polyfill\");\n\nexport const state = {\n  project: {},\n  allProjects: [],\n  search: {\n    query: \"\",\n    results: [],\n    page: 1,\n    resultsPerPage: RES_PER_PAGE,\n    totalPages: 1,\n  },\n};\n\nexport const createMatrix = async function () {\n  try {\n    const response = await fetch(\n      `https://docs.google.com/spreadsheets/d/1VWRfBiRJTia4_xznSFc-sE_LrtgIZ3JeeFVsjqWw96Q/gviz/tq?tqx=out:csv`\n    );\n    const data = await response.text();\n\n    // 1) Split data into rows and get rid of the header row\n    let rows = await data.split(\"\\n\").slice(1);\n\n    // 2) Convert row of commas into an array. Matrix formed (multiple rows of arrays. Each row is one project)\n    const intermediate = await rows.map((row) => row.split(`,`));\n\n    // 3) Remove quotation marks from each item\n    const mtx = await intermediate.map((project) =>\n      project.map((text) => text.slice(1, -1))\n    );\n\n    state.allProjects = mtx;\n    state.search.results = mtx;\n\n    state.search.totalPages = Math.ceil(\n      mtx.length / state.search.resultsPerPage\n    );\n  } catch (err) {\n    throw err;\n  }\n};\n\nexport const loadSearchResults = function (query) {\n  state.search.query = query;\n\n  state.search.results = state.allProjects.filter((project) =>\n    project[1].toLowerCase().includes(query)\n  );\n\n  // if (query === \"\") {\n  //   controller.reset(); // Run intial set up\n  // } else {\n  //   state.search.results = state.search.results.filter((project) =>\n  //     project[1].toLowerCase().includes(query)\n  //   );\n  //   mainApp.runMatrix(mtx, 1); // Run filtered set up\n  // }\n\n  state.search.totalPages = Math.ceil(\n    state.search.results.length / state.search.resultsPerPage\n  );\n\n  state.search.page = 1;\n};\n\nexport const loadFavouritedProjects = function () {\n  state.search.results = state.allProjects.filter(favourited);\n\n  state.search.totalPages = Math.ceil(\n    state.search.results.length / state.search.resultsPerPage\n  );\n  state.search.page = 1;\n};\n\nexport const getSearchResultsPage = function (\n  page = state.search.page,\n  data = state.search.results\n) {\n  state.search.page = page;\n\n  state.search.totalPages = Math.ceil(\n    state.search.results.length / state.search.resultsPerPage\n  );\n\n  const start = (page - 1) * state.search.resultsPerPage;\n  const end = page * state.search.resultsPerPage;\n\n  return data.slice(start, end);\n};\n\nfunction favourited(project) {\n  for (let i = 0; i < localStorage.length; i++) {\n    if (project[0] == localStorage.key(i)) {\n      return true;\n    }\n  }\n  return false;\n}\n","class ResultsView {\n  constructor() {\n    this.projectList = document.querySelector(`.projects`);\n    this.header__user = document.querySelector(`.header__user`);\n  }\n\n  addHandlerFavourited(handler, reset) {\n    this.header__user.addEventListener(\"click\", function () {\n      this.classList.toggle(\"activeUser\");\n      if (this.classList.contains(\"activeUser\")) {\n        handler();\n      } else {\n        reset();\n      }\n    });\n  }\n\n  render(data) {\n    this.projectList.innerHTML = \"\";\n\n    // For each row (array), create a HTML card\n    data.forEach((project) => {\n      const htmlString = `\n            <li class=\"project-card-container\">\n                <img\n                src=\"${project[3]}\"\n                alt=\"\"\n                class=\"project-card__img\"\n                />\n                <div class=\"project-card__text-container\">\n                <div>\n                <p class=\"project-card__id\" style=\"display: none;\">${project[0]}</p>\n                <h2 class=\"project-card__title\">${project[1]}</h2>\n                <p class=\"project-card__eta\">Est. ${project[2]}</p>\n                </div>\n                <i class=\"project-card__heart bi bi-suit-heart\"></i>\n                </div>\n            </li>`;\n\n      this.projectList.insertAdjacentHTML(`beforeend`, htmlString);\n    });\n\n    const likeProject = document.querySelectorAll(\".project-card__heart\");\n\n    // FAVOURITE PROJECTS\n    // Putting it here for now since it only works after items load\n    likeProject.forEach(function (item) {\n      // Activate heart if it is in local storage\n      // Gets the ID of the project card\n      const id =\n        item.closest(\"div div\").firstElementChild.firstElementChild.innerText;\n\n      for (let i = 0; i < localStorage.length; i++) {\n        if (id == localStorage.key(i)) {\n          item.classList.remove(\"bi-suit-heart\");\n          item.classList.add(\"bi-suit-heart-fill\");\n          item.classList.add(\"heart\");\n        }\n      }\n\n      item.addEventListener(\"click\", function () {\n        item.classList.toggle(\"bi-suit-heart-fill\");\n        item.classList.toggle(\"bi-suit-heart\");\n        item.classList.toggle(\"heart\");\n\n        // Checks whether the project was saved and adds/removes from local storage\n        if (item.classList.contains(\"heart\")) {\n          localStorage.setItem(id, id);\n        } else {\n          localStorage.removeItem(id, id);\n        }\n      });\n    });\n  }\n}\n\nexport default new ResultsView();\n","class PaginationView {\n  constructor() {\n    this.pagination__buttons = document.querySelector(\".pagination__buttons\");\n  }\n\n  addHandlerClick(handler) {\n    this.pagination__buttons.addEventListener(\"click\", function (e) {\n      const btn = e.target.closest(\".pagination__button\");\n      if (!btn) return;\n      const goToPage = +btn.dataset.goto;\n      handler(goToPage);\n    });\n  }\n\n  render(totalPages, currentPage) {\n    let buttons = ``;\n    let activeButton;\n    let beforePage = currentPage - 1;\n    let afterPage = currentPage + 1;\n\n    // Adds previous button\n    if (currentPage > 1) {\n      buttons += `<li class=\"pagination__button pagination__prev\" data-goto=\"${\n        currentPage - 1\n      }\"><i class=\"bi bi-chevron-left\"></i></li>`;\n    }\n\n    // Adds three page numbers at all times\n    for (let page = beforePage; page <= afterPage; page++) {\n      if (page > totalPages) {\n        continue;\n      }\n\n      if (page == 0) {\n        page = page + 1;\n      }\n\n      // Makes center page active and highlighted\n      if (page == currentPage) {\n        activeButton = `active`;\n      } else {\n        activeButton = ``;\n      }\n\n      buttons += `<li class=\"pagination__button pagination__number ${activeButton}\" data-goto=\"${page}\"><span>${page}</span></li>`;\n    }\n\n    // Adds next button\n    if (currentPage < totalPages) {\n      buttons += `<li class=\"pagination__button pagination__next\"  data-goto=\"${\n        currentPage + 1\n      }\"><i class=\"bi bi-chevron-right\"></i></li>`;\n    }\n\n    this.pagination__buttons.innerHTML = buttons;\n  }\n}\nexport default new PaginationView();\n","class SearchBarView {\n  constructor() {\n    this.header = document.querySelector(\"header\");\n    this.searchContainer = document.querySelector(`.search-bar`);\n    this.searchInput = document.querySelector(`.search-bar__input`);\n    this.bannerContainer = document.querySelector(`.hero-banner-container`);\n    this.searchObsOpt = {\n      root: null,\n      threshold: 0,\n    };\n  }\n\n  addIntersectionObserver(handler) {\n    const searchObserver = new IntersectionObserver(handler, this.searchObsOpt);\n\n    searchObserver.observe(this.header);\n  }\n\n  // To be triggered upon intersection observer\n  fixSearchContainer(entries) {\n    const [entry] = entries;\n    // Since \"fixed\" results in overlap, we have to adjust the margin for the banner as well\n    if (!entry.isIntersecting) {\n      this.searchContainer.classList.add(\"search-fixed\");\n      this.bannerContainer.style.marginTop = `6rem`;\n    } else {\n      this.searchContainer.classList.remove(\"search-fixed\");\n      this.bannerContainer.style.marginTop = `0`;\n    }\n  }\n\n  addHandlerSearch(handler) {\n    this.searchInput.addEventListener(`keyup`, (e) => {\n      // Scroll up every time you type a key\n      document.body.scrollTop = 0;\n      document.documentElement.scrollTop = 0;\n\n      handler();\n    });\n  }\n\n  getQuery() {\n    // Make case insensitive\n    return this.searchInput.value.toLowerCase();\n  }\n}\n\nexport default new SearchBarView();\n","class RequestBarView {\n  constructor() {\n    this.requestBar = document.querySelector(\".request-bar\");\n    this.footer = document.querySelector(\".footer-container\");\n\n    this.reqObsOpt = {\n      root: null,\n      threshold: 0.99,\n    };\n  }\n\n  addIntersectionObserver(handler) {\n    const requestObserver = new IntersectionObserver(handler, this.reqObsOpt);\n    requestObserver.observe(this.footer);\n  }\n\n  fixRequestBar(entries) {\n    const [entry] = entries;\n\n    if (entry.isIntersecting) {\n      this.requestBar.classList.add(\"display-none\");\n    } else {\n      this.requestBar.classList.remove(\"display-none\");\n    }\n  }\n}\n\nexport default new RequestBarView();\n","class RequestFormView {\n  constructor() {\n    this.requestBar = document.querySelector(\".request-bar\");\n    this.footer = document.querySelector(\".footer-container\");\n    this.requestButton = document.querySelector(\".request-button\");\n    this.modalOverlay = document.querySelector(\".modal-overlay\");\n    this.requestModal = document.querySelector(\".request-modal-container\");\n    this.projectPageContainer = document.querySelector(`.project-pages`);\n  }\n\n  // Request form - button activation to unhide\n  addHandlerClickBar(handler) {\n    this.requestBar.addEventListener(`click`, handler);\n  }\n\n  addHandlerClickOverlay(handler) {\n    this.modalOverlay.addEventListener(`click`, handler);\n  }\n\n  addHandlerEscape(handler) {\n    document.addEventListener(`keydown`, function (e) {\n      if (e.key === \"Escape\" && !this.requestModal.classList.contains(\"hidden\"))\n        handler();\n    });\n  }\n\n  // Request form - general function to unhide\n  showRequestForm() {\n    this.modalOverlay.classList.remove(\"hidden\");\n    this.requestModal.classList.remove(\"hidden\");\n  }\n\n  // Request form - general function to hide\n  hideRequestForm() {\n    this.modalOverlay.classList.add(\"hidden\");\n    this.requestModal.classList.add(\"hidden\");\n    this.projectPageContainer.innerHTML = \"\";\n  }\n}\n\nexport default new RequestFormView();\n","class ProjectPageView {\n  constructor() {}\n\n  // Adds click functionality to all cards\n  addProjectPage(allProjects) {\n    const projectCard = document.querySelectorAll(`.project-card-container`);\n\n    projectCard.forEach(function (card) {\n      card.addEventListener(`click`, function (e) {\n        // Prevents clicking on hard to activate\n        if (e.target.classList.contains(\"project-card__heart\")) return;\n\n        const id = card.querySelector(\".project-card__id\").innerHTML;\n        const projectPageContainer = document.querySelector(`.project-pages`);\n        const modalOverlay = document.querySelector(\".modal-overlay\");\n\n        let project = {};\n\n        for (let i = 0; i < allProjects.length; i++) {\n          if (id === allProjects[i][0]) {\n            project = allProjects[i];\n          }\n        }\n\n        const htmlString = `\n        <div class=\"project-page-container\">\n        <div class=\"project-page-content-container\">\n          <img\n            class=\"project-page-image\"\n            src=\"${project[3]}\"\n            alt=\"\"\n          />\n          <div class=\"project-page-text-container\">\n            <h1>${project[1]}</h1>\n            <p>\n              Lorem ipsum dolor sit amet, consectetur adipisicing elit. Cumque\n              nulla aliquid earum ducimus sit maxime aperiam dignissimos\n              reprehenderit nam! Aliquid, veritatis quos! Eum, doloribus odit.\n            </p>\n            <p class=\"project-page-eta\">Est. ETA: <br />12/12/2022</p>\n          </div>\n        </div>\n  \n        <div class=\"project-page-timeline-container\">\n          <ul class=\"project-page-timeline\">\n            <li class=\"timeline-active\">By 20/10/21<br />GB Completed</li>\n            <li>By 20/10/21<br />GB Completed</li>\n            <li>By 20/10/21<br />GB Completed</li>\n            <li>By 20/10/21<br />GB Completed</li>\n            <li>By 20/10/21<br />GB Completed</li>\n          </ul>\n        </div>\n  \n        <div class=\"project-page-support-form-container\">\n          <form action=\"\" class=\"support-form\">\n            <h2>Contact Owner</h2>\n            <label for=\"email\"></label>\n            <input\n              type=\"email\"\n              placeholder=\"Enter email...\"\n              name=\"email\"\n              required\n            />\n  \n            <label for=\"project\"></label>\n            <textarea\n              rows=\"5\"\n              name=\"project\"\n              placeholder=\"Enter project name...\"\n              required\n            ></textarea>\n            <div class=\"support-form-button-container\">\n              <button type=\"submit\" class=\"support-form-button\">Submit</button>\n            </div>\n          </form>\n        </div>\n      </div>`;\n\n        projectPageContainer.insertAdjacentHTML(`beforeend`, htmlString);\n\n        modalOverlay.classList.toggle(\"hidden\");\n      });\n    });\n  }\n}\n\nexport default new ProjectPageView();\n","import * as model from \"./model\";\nimport ResultsView from \"./views/ResultsView\";\nimport PaginationView from \"./views/PaginationView\";\nimport SearchBarView from \"./views/SearchBarView\";\nimport RequestBarView from \"./views/RequestBarView\";\nimport RequestFormView from \"./views/RequestFormView\";\nimport ProjectPageView from \"./views/ProjectPageView\";\n\nconst reset = function () {\n  // 1) Get the projects to load for page 1\n  const setOfProjects = model.getSearchResultsPage(1, model.state.allProjects);\n\n  // 2) Create cards based on the set of projects\n  ResultsView.render(setOfProjects);\n\n  // 3) Render initial pagination buttons\n  PaginationView.render(model.state.search.totalPages, model.state.search.page);\n\n  //   4) Add project page event listener\n  ProjectPageView.addProjectPage(model.state.allProjects);\n};\n\nconst controlSearchResults = function () {\n  // 1) Get search query\n  const query = SearchBarView.getQuery();\n\n  // 2) Load search results into state.search.results\n  model.loadSearchResults(query);\n\n  // 3) Load sliced search results of certain page\n  const setOfProjects = model.getSearchResultsPage();\n\n  // 4) Create cards based on the set of projects\n  ResultsView.render(setOfProjects);\n\n  // 5) Render initial pagination buttons\n  PaginationView.render(model.state.search.totalPages, model.state.search.page);\n};\n\nconst controlPagination = function (goToPage) {\n  // 1) Load sliced search results of certain page\n  const setOfProjects = model.getSearchResultsPage(goToPage);\n\n  // 2) Create cards based on the set of projects\n  ResultsView.render(setOfProjects);\n\n  //   3) Render pagination buttons\n  PaginationView.render(model.state.search.totalPages, model.state.search.page);\n};\n\nconst controlFavourited = function () {\n  // 1) Load favourited projects\n  model.loadFavouritedProjects();\n  // 2) Load sliced search results of certain page\n  const setOfProjects = model.getSearchResultsPage();\n  // 3) Create cards based on the set of projects\n  ResultsView.render(setOfProjects);\n  // 4) Render initial pagination buttons\n  PaginationView.render(model.state.search.totalPages, model.state.search.page);\n};\n\nconst controlSearchBar = function (entries) {\n  SearchBarView.fixSearchContainer(entries);\n};\n\nconst controlRequestBar = function (entries) {\n  RequestBarView.fixRequestBar(entries);\n};\n\nconst controlShowModal = function () {\n  RequestFormView.showRequestForm();\n};\n\nconst controlHideModal = function () {\n  RequestFormView.hideRequestForm();\n};\n\nconst init = async function () {\n  // 1) Create original dataset from CSV\n  await model.createMatrix();\n  //   2) Reset the system\n  reset();\n\n  PaginationView.addHandlerClick(controlPagination);\n  ResultsView.addHandlerFavourited(controlFavourited, reset);\n  SearchBarView.addIntersectionObserver(controlSearchBar);\n  SearchBarView.addHandlerSearch(controlSearchResults);\n  RequestBarView.addIntersectionObserver(controlRequestBar);\n  RequestFormView.addHandlerClickBar(controlShowModal);\n  RequestFormView.addHandlerClickOverlay(controlHideModal);\n  RequestFormView.addHandlerEscape(controlHideModal);\n};\ninit();\n\n// Add JS for interest checker. Same layout. Just link to different things.\n// Fix CSS for individual project page popup\n// Fix the favourite issue\n// Add \"No favourited projects\" if there are no projects\n// Hook up to Netlify\n","var OVERLAY_ID = '__parcel__error__overlay__';\n\nvar OldModule = module.bundle.Module;\n\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData,\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n\n  module.bundle.hotData = null;\n}\n\nmodule.bundle.Module = Module;\nvar checkedAssets, assetsToAccept;\n\nvar parent = module.bundle.parent;\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = process.env.HMR_HOSTNAME || location.hostname;\n  var protocol = location.protocol === 'https:' ? 'wss' : 'ws';\n  var ws = new WebSocket(protocol + '://' + hostname + ':' + process.env.HMR_PORT + '/');\n  ws.onmessage = function(event) {\n    checkedAssets = {};\n    assetsToAccept = [];\n\n    var data = JSON.parse(event.data);\n\n    if (data.type === 'update') {\n      var handled = false;\n      data.assets.forEach(function(asset) {\n        if (!asset.isNew) {\n          var didAccept = hmrAcceptCheck(global.parcelRequire, asset.id);\n          if (didAccept) {\n            handled = true;\n          }\n        }\n      });\n\n      // Enable HMR for CSS by default.\n      handled = handled || data.assets.every(function(asset) {\n        return asset.type === 'css' && asset.generated.js;\n      });\n\n      if (handled) {\n        console.clear();\n\n        data.assets.forEach(function (asset) {\n          hmrApply(global.parcelRequire, asset);\n        });\n\n        assetsToAccept.forEach(function (v) {\n          hmrAcceptRun(v[0], v[1]);\n        });\n      } else if (location.reload) { // `location` global exists in a web worker context but lacks `.reload()` function.\n        location.reload();\n      }\n    }\n\n    if (data.type === 'reload') {\n      ws.close();\n      ws.onclose = function () {\n        location.reload();\n      }\n    }\n\n    if (data.type === 'error-resolved') {\n      console.log('[parcel] ✨ Error resolved');\n\n      removeErrorOverlay();\n    }\n\n    if (data.type === 'error') {\n      console.error('[parcel] 🚨  ' + data.error.message + '\\n' + data.error.stack);\n\n      removeErrorOverlay();\n\n      var overlay = createErrorOverlay(data);\n      document.body.appendChild(overlay);\n    }\n  };\n}\n\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n  if (overlay) {\n    overlay.remove();\n  }\n}\n\nfunction createErrorOverlay(data) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n\n  // html encode message and stack trace\n  var message = document.createElement('div');\n  var stackTrace = document.createElement('pre');\n  message.innerText = data.error.message;\n  stackTrace.innerText = data.error.stack;\n\n  overlay.innerHTML = (\n    '<div style=\"background: black; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; opacity: 0.85; font-family: Menlo, Consolas, monospace; z-index: 9999;\">' +\n      '<span style=\"background: red; padding: 2px 4px; border-radius: 2px;\">ERROR</span>' +\n      '<span style=\"top: 2px; margin-left: 5px; position: relative;\">🚨</span>' +\n      '<div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">' + message.innerHTML + '</div>' +\n      '<pre>' + stackTrace.innerHTML + '</pre>' +\n    '</div>'\n  );\n\n  return overlay;\n\n}\n\nfunction getParents(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return [];\n  }\n\n  var parents = [];\n  var k, d, dep;\n\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n      if (dep === id || (Array.isArray(dep) && dep[dep.length - 1] === id)) {\n        parents.push(k);\n      }\n    }\n  }\n\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n\n  return parents;\n}\n\nfunction hmrApply(bundle, asset) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (modules[asset.id] || !bundle.parent) {\n    var fn = new Function('require', 'module', 'exports', asset.generated.js);\n    asset.isNew = !modules[asset.id];\n    modules[asset.id] = [fn, asset.deps];\n  } else if (bundle.parent) {\n    hmrApply(bundle.parent, asset);\n  }\n}\n\nfunction hmrAcceptCheck(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (!modules[id] && bundle.parent) {\n    return hmrAcceptCheck(bundle.parent, id);\n  }\n\n  if (checkedAssets[id]) {\n    return;\n  }\n  checkedAssets[id] = true;\n\n  var cached = bundle.cache[id];\n\n  assetsToAccept.push([bundle, id]);\n\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    return true;\n  }\n\n  return getParents(global.parcelRequire, id).some(function (id) {\n    return hmrAcceptCheck(global.parcelRequire, id)\n  });\n}\n\nfunction hmrAcceptRun(bundle, id) {\n  var cached = bundle.cache[id];\n  bundle.hotData = {};\n  if (cached) {\n    cached.hot.data = bundle.hotData;\n  }\n\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData);\n    });\n  }\n\n  delete bundle.cache[id];\n  bundle(id);\n\n  cached = bundle.cache[id];\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      cb();\n    });\n    return true;\n  }\n}\n"]}